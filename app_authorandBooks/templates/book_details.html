<!-- books_authors_app/templates/books_authors_app/book_detail.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Book Detail</title>
</head>
<body>
    <h1>{{ book.title }}</h1>
    <h2>{{ book.id }}</h2>
    <p>{{ book.description }}</p>
    <h2>Authors:</h2>
    <ul>
        {% for author in book.authors.all %}<!--access author by (authors)(related input)(give me all authors assigened to this book )-->
            <li>{{ author.first_name }} {{ author.last_name }}</li>
        {% endfor %}
    </ul>
    
    <h3>Add Author to books</h3>
    <form method="POST" action="{% url 'add_author_to_book' book.id %}">
        {% csrf_token %}
        <select name="author_id">
            {% for author in authors %}
                <option value="{{ author.id }}">{{ author.first_name }} {{ author.last_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">Add</button>
    </form>
    
    <a href="{% url 'index' %}">Back to book list</a>
    
    <br>
    <span> Author Name not in Select !</span><a href="/authors"> Click to add</a>
</body>
</html>
